<div class="rhs-table" st-set-filter="rhsSearchfilter" st-table="displayedCollection" st-safe-src="model.get()" infinite-scroll="showMoreInTable()" infinite-scroll-distance="2">

  <rhs-export></rhs-export>
  <rhs-table-search-connector></rhs-table-search-connector>
  <rhs-reset-limit on-change="resetLimit()" scroll-element=".rhs-table" padding-top="76"></rhs-reset-limit>

  <rhs-table-number-of-rows total-rows="model.get().length"></rhs-table-number-of-rows>

    <table class="table table-striped" rhs-table-fixed-header="rhs-table-header-fixed-top" fixed-header="rhs-table-fixed-header" normal-header="rhs-table-normal-header"  padding-top="76">
      <thead class="hidden" rhs-table-header id="rhs-table-fixed-header" user="user" glapp="filter.get().glapp"></thead>
      <thead rhs-table-header id="rhs-table-normal-header" user="user" glapp="filter.get().glapp"></thead>
      <tbody id="rhs-table-body">
        <tr ng-repeat="row in displayedCollection | limitTo: limit track by row.patient.id" class="rhs-table-row">
          <td class="column-number">{{$index + 1}}</td>
          <td class="column-patient-id">{{::row.patient.id}} (<span class="age">{{::row.patient.alder}} Ã¥r</span>)</td>
          <td class="column-patient-name">{{::row.patient.namn}}</td>
          <td class="column-patient-kon">{{::row.patient.konShow}}</td>
          <td class="column-diagnos">
            <span ng-if="::row.diagnos.beskrivning" uib-tooltip-html="getToolTip(row.diagnos)" tooltip-popup-delay="200" class="rhs-table-tooltip">{{::row.diagnos.intygsVarde}}</span>
            <span ng-if="::!row.diagnos.beskrivning">{{::row.diagnos.intygsVarde}}</span>
          </td>
          <td class="column-start start-date">{{::row.start}}</td>
          <td class="column-slut end-date">{{::row.slut}}</td>
          <td class="column-dagar">
            <span class="text-nowrap dagar">{{::row.dagarShow}}</span><wbr>({{::row.intyg}}&nbsp;intyg)
          </td>
          <td  class="column-grad" ng-bind-html="::row.gradShow"></td>
          <td ng-if="user.urval != 'ISSUED_BY_ME'">{{::row.lakare.namn}}</td>
        </tr>
        <tr ng-if="!displayedCollection.length">
          <td colspan="{{noResultColspan}}" class="rhs-table-no-result">
            <span ng-if="!model.get().length">
              {{::'label.table.no-result' | message}} {{user.valdVardgivare.namn}} - {{user.valdVardenhet.namn}}
            </span>
            <span ng-if="model.get().length">
              {{::'label.table.no-filter-result' | message}}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>